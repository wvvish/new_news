{% extends 'news_app/base.html' %}

{% block title %}–ù–∞—Å—Ç—Ä–æ–π–∫–∏ - NewsApp{% endblock %}

{% block content %}
<div class="preferences-container">
    <h2>üéõÔ∏è –ü–µ—Ä—Å–æ–Ω–∞–ª–∏–∑–∞—Ü–∏—è –Ω–æ–≤–æ—Å—Ç–µ–π</h2>
    
    <form method="post" class="preferences-form">
        {% csrf_token %}
        
        <div class="form-section">
            <h3 class="icon-theme">–í–Ω–µ—à–Ω–∏–π –≤–∏–¥</h3>
            <div class="form-group">
                <label>{{ form.theme.label }}</label>
                <div class="radio-group">
                    {% for choice in form.theme %}
                        {{ choice.tag }}
                        <label for="{{ choice.id_for_label }}" class="radio-label">
                            {% if choice.choice_label == '–°–≤–µ—Ç–ª–∞—è' %} ‚òÄÔ∏è {% else %} üåô {% endif %}
                            {{ choice.choice_label }}
                        </label>
                    {% endfor %}
                </div>
            </div>
            
            <div class="form-group">
                <label>{{ form.language.label }}</label>
                <div class="radio-group">
                    {% for choice in form.language %}
                        {{ choice.tag }}
                        <label for="{{ choice.id_for_label }}" class="radio-label">
                            {% if choice.choice_label == '–†—É—Å—Å–∫–∏–π' %} üá∑üá∫ {% else %} üá∫üá∏ {% endif %}
                            {{ choice.choice_label }}
                        </label>
                    {% endfor %}
                </div>
            </div>
        </div>

        <div class="form-section">
            <h3 class="icon-categories">–ö–∞—Ç–µ–≥–æ—Ä–∏–∏ –Ω–æ–≤–æ—Å—Ç–µ–π</h3>
            <div class="form-group">
                <label>{{ form.categories.label }}</label>
                <div class="checkbox-group">
                    {% for choice in form.categories %}
                        <div class="checkbox-item">
                            {{ choice.tag }}
                            <label for="{{ choice.id_for_label }}" class="checkbox-label">
                                {% if choice.choice_label == '–ü–æ–ª–∏—Ç–∏–∫–∞' %} üèõÔ∏è
                                {% elif choice.choice_label == '–°–ø–æ—Ä—Ç' %} ‚öΩ
                                {% elif choice.choice_label == '–¢–µ—Ö–Ω–æ–ª–æ–≥–∏–∏' %} üíª
                                {% elif choice.choice_label == '–†–∞–∑–≤–ª–µ—á–µ–Ω–∏—è' %} üé¨
                                {% elif choice.choice_label == '–ë–∏–∑–Ω–µ—Å' %} üíº
                                {% elif choice.choice_label == '–ó–¥–æ—Ä–æ–≤—å–µ' %} üè•
                                {% endif %}
                                {{ choice.choice_label }}
                            </label>
                        </div>
                    {% endfor %}
                </div>
            </div>
        </div>

        <div class="form-section">
            <h3 class="icon-notifications">–ù–∞—Å—Ç—Ä–æ–π–∫–∏ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π</h3>
            <div class="form-group">
                <label>{{ form.update_frequency.label }}</label>
                {{ form.update_frequency }}
            </div>
            
            <div class="checkbox-group">
                <div class="checkbox-item">
                    {{ form.email_notifications }}
                    <label for="{{ form.email_notifications.id_for_label }}" class="checkbox-label">
                        üìß {{ form.email_notifications.label }}
                    </label>
                </div>
                <div class="checkbox-item">
                    {{ form.push_notifications }}
                    <label for="{{ form.push_notifications.id_for_label }}" class="checkbox-label">
                        üì± {{ form.push_notifications.label }}
                    </label>
                </div>
            </div>
        </div>

        <button type="submit" class="submit-btn">üíæ –°–æ—Ö—Ä–∞–Ω–∏—Ç—å –Ω–∞—Å—Ç—Ä–æ–π–∫–∏</button>
    </form>

    {% if visited_pages %}
    <div class="history-section">
        <h3>üìö –ò—Å—Ç–æ—Ä–∏—è –ø—Ä–æ—Å–º–æ—Ç—Ä–æ–≤</h3>
        <ul class="history-list">
            {% for page in visited_pages %}
                <li>üìÑ {{ page|title }}</li>
            {% endfor %}
        </ul>
    </div>
    {% endif %}
</div>
{% endblock %}