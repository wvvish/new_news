{% extends 'news_app/base.html' %}
{% load static %}

{% block title %}–ì–ª–∞–≤–Ω–∞—è - NewsApp{% endblock %}

{% block content %}
<div class="dashboard">
    <div class="welcome-section">
        <h2>–î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å –≤ –≤–∞—à –ø–µ—Ä—Å–æ–Ω–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –Ω–æ–≤–æ—Å—Ç–Ω–æ–π –¥–∞—à–±–æ—Ä–¥! üì∞</h2>
        <p>–ó–¥–µ—Å—å –≤—ã –Ω–∞–π–¥–µ—Ç–µ –∞–∫—Ç—É–∞–ª—å–Ω—ã–µ –Ω–æ–≤–æ—Å—Ç–∏ –ø–æ –≤—ã–±—Ä–∞–Ω–Ω—ã–º –≤–∞–º–∏ –∫–∞—Ç–µ–≥–æ—Ä–∏—è–º.</p>
    </div>

    <div class="news-grid">
        {% for category in selected_categories %}
            <div class="news-category">
                <h3>
                    {% if category == 'politics' %} üèõÔ∏è
                    {% elif category == 'sports' %} ‚öΩ
                    {% elif category == 'technology' %} üíª
                    {% elif category == 'entertainment' %} üé¨
                    {% elif category == 'business' %} üíº
                    {% elif category == 'health' %} üè•
                    {% endif %}
                    {{ category|title }}
                </h3>
                <div class="news-items">
                    {% if category == 'politics' %}
                        {% for news in news_data.politics %}
                        <div class="news-card news-card-with-image">
                            <img src="/static/images/categories/{{ news.image }}" 
                                 alt="{{ news.title }}" 
                                 class="category-image"
                                 onerror="this.style.display='none'">
                            <div class="news-card-content">
                                <h4>{{ news.title }}</h4>
                                <p class="news-date">üìÖ {{ news.date }}</p>
                                <p class="news-summary">{{ news.summary }}</p>
                                <a href="{% url 'category_news' category %}" class="read-more">üìñ –ß–∏—Ç–∞—Ç—å –¥–∞–ª–µ–µ</a>
                            </div>
                        </div>
                        {% endfor %}
                    
                    {% elif category == 'sports' %}
                        {% for news in news_data.sports %}
                        <div class="news-card news-card-with-image">
                            <img src="/static/images/categories/{{ news.image }}" 
                                 alt="{{ news.title }}" 
                                 class="category-image"
                                 onerror="this.style.display='none'">
                            <div class="news-card-content">
                                <h4>{{ news.title }}</h4>
                                <p class="news-date">üìÖ {{ news.date }}</p>
                                <p class="news-summary">{{ news.summary }}</p>
                                <a href="{% url 'category_news' category %}" class="read-more">üìñ –ß–∏—Ç–∞—Ç—å –¥–∞–ª–µ–µ</a>
                            </div>
                        </div>
                        {% endfor %}
                    
                    {% elif category == 'technology' %}
                        {% for news in news_data.technology %}
                        <div class="news-card news-card-with-image">
                            <img src="/static/images/categories/{{ news.image }}" 
                                 alt="{{ news.title }}" 
                                 class="category-image"
                                 onerror="this.style.display='none'">
                            <div class="news-card-content">
                                <h4>{{ news.title }}</h4>
                                <p class="news-date">üìÖ {{ news.date }}</p>
                                <p class="news-summary">{{ news.summary }}</p>
                                <a href="{% url 'category_news' category %}" class="read-more">üìñ –ß–∏—Ç–∞—Ç—å –¥–∞–ª–µ–µ</a>
                            </div>
                        </div>
                        {% endfor %}
                    
                    {% elif category == 'entertainment' %}
                        {% for news in news_data.entertainment %}
                        <div class="news-card news-card-with-image">
                            <img src="/static/images/categories/{{ news.image }}" 
                                 alt="{{ news.title }}" 
                                 class="category-image"
                                 onerror="this.style.display='none'">
                            <div class="news-card-content">
                                <h4>{{ news.title }}</h4>
                                <p class="news-date">üìÖ {{ news.date }}</p>
                                <p class="news-summary">{{ news.summary }}</p>
                                <a href="{% url 'category_news' category %}" class="read-more">üìñ –ß–∏—Ç–∞—Ç—å –¥–∞–ª–µ–µ</a>
                            </div>
                        </div>
                        {% endfor %}
                    
                    {% elif category == 'business' %}
                        {% for news in news_data.business %}
                        <div class="news-card news-card-with-image">
                            <img src="/static/images/categories/{{ news.image }}" 
                                 alt="{{ news.title }}" 
                                 class="category-image"
                                 onerror="this.style.display='none'">
                            <div class="news-card-content">
                                <h4>{{ news.title }}</h4>
                                <p class="news-date">üìÖ {{ news.date }}</p>
                                <p class="news-summary">{{ news.summary }}</p>
                                <a href="{% url 'category_news' category %}" class="read-more">üìñ –ß–∏—Ç–∞—Ç—å –¥–∞–ª–µ–µ</a>
                            </div>
                        </div>
                        {% endfor %}
                    
                    {% elif category == 'health' %}
                        {% for news in news_data.health %}
                        <div class="news-card news-card-with-image">
                            <img src="/static/images/categories/{{ news.image }}" 
                                 alt="{{ news.title }}" 
                                 class="category-image"
                                 onerror="this.style.display='none'">
                            <div class="news-card-content">
                                <h4>{{ news.title }}</h4>
                                <p class="news-date">üìÖ {{ news.date }}</p>
                                <p class="news-summary">{{ news.summary }}</p>
                                <a href="{% url 'category_news' category %}" class="read-more">üìñ –ß–∏—Ç–∞—Ç—å –¥–∞–ª–µ–µ</a>
                            </div>
                        </div>
                        {% endfor %}
                    
                    {% endif %}
                </div>
            </div>
        {% empty %}
            <div class="no-categories">
                <div style="text-align: center; padding: 3rem;">
                    <h3>üéØ –í—ã–±–µ—Ä–∏—Ç–µ –∏–Ω—Ç–µ—Ä–µ—Å—É—é—â–∏–µ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏</h3>
                    <p>–ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ <a href="{% url 'news_preferences' %}" style="color: #667eea; font-weight: bold;">–Ω–∞—Å—Ç—Ä–æ–π–∫–∏</a>, —á—Ç–æ–±—ã –ø–µ—Ä—Å–æ–Ω–∞–ª–∏–∑–∏—Ä–æ–≤–∞—Ç—å –≤–∞—à—É –ª–µ–Ω—Ç—É –Ω–æ–≤–æ—Å—Ç–µ–π.</p>
                    <a href="{% url 'news_preferences' %}" class="submit-btn" style="display: inline-block; margin-top: 1rem; text-decoration: none;">‚öôÔ∏è –ü–µ—Ä–µ–π—Ç–∏ –∫ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞–º</a>
                </div>
            </div>
        {% endfor %}
    </div>
</div>
{% endblock %}